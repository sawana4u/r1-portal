<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register | R1 Tech Labs</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50 flex items-center justify-center min-h-screen p-6">
    <div class="w-full max-w-md bg-white p-10 rounded-[2.5rem] shadow-2xl">
        <h2 class="text-center font-black uppercase text-xs mb-8 tracking-widest text-slate-400">Naya Account Banayein</h2>
        <div class="space-y-4">
            <input type="text" id="comp" class="w-full p-4 bg-slate-50 border rounded-2xl outline-none" placeholder="Company Ka Naam">
            <input type="text" id="user" class="w-full p-4 bg-slate-50 border rounded-2xl outline-none" placeholder="Username Chunein">
            <input type="password" id="pass" class="w-full p-4 bg-slate-50 border rounded-2xl outline-none" placeholder="Password Set Karein">
            <button onclick="handleSignup()" class="w-full bg-indigo-600 text-white font-black py-4 rounded-2xl uppercase text-xs">Register</button>
            <p class="text-center text-xs text-slate-400"><a href="index.html" class="text-indigo-600 font-bold">Back to Login</a></p>
        </div>
    </div>

    <script type="module">
        import { auth, db, APP_ID, DOMAIN } from './config.js';
        import { createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { doc, setDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        window.handleSignup = async () => {
            const c = document.getElementById('comp').value, u = document.getElementById('user').value + DOMAIN, p = document.getElementById('pass').value;
            try {
                const cred = await createUserWithEmailAndPassword(auth, u, p);
                await setDoc(doc(db, 'artifacts', APP_ID, 'users', cred.user.uid, 'settings', 'profile'), { companyName: c });
                window.location.href = 'dashboard.html';
            } catch (e) { alert(e.message); }
        };
    </script>
</body>
</html>

